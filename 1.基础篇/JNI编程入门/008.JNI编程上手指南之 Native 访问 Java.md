# JNI编程上手指南之 Native 访问 Java

jmethodID 和 jfieldID:
在 JNI 层执行 Java 代码常用到 FindClass() 、 GetMethodID() 、 GetFieldID() ；

但只有第一个函数返回的 jclass 属于 JNI (局部)引用对象，而 jmethodID 和 jfieldID 并不是，它们是指向内部 Runtime 数据结构的指针；

实际上这些 ID 是用于缓存的静态对象：第一次查找会做一次字符串比较，但后面再次调用就能直接读取而变得很快；

JVM 会保证这些 ID 是合法的，直到 Class 被 unload；

所以， jmethodID 和 jfieldID 是不需要手动释放的，当然也不能作为 JNI 全局引用。


## 参考资料

* [JNI 引用， DeleteLocalRef使用场景详解](https://blog.csdn.net/tabactivity/article/details/106902540)
* [JNI内存方面说明以及相关类型手动释放内存](JNI内存方面说明以及相关类型手动释放内存)