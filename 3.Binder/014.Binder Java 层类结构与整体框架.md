# Binder Java 层类结构与整体框架

## Java 层初始化

Android Zygote 启动时，会调用 `AndroidRuntime::startReg` 注册一系列的 JNI 方法，其中包含了 Java 层与 Binder 相关的 JNI 方法：

```c++
static const RegJNIRec gRegJNI[] = {
	...
	REG_JNI(register_android_os_Binder),
	...
}

// frameworks/base/core/jni/AndroidRuntime.cpp
int AndroidRuntime::startReg(JNIEnv* env)
{  
    //......
    
    //注册 jni 函数
    if (register_jni_procs(gRegJNI, NELEM(gRegJNI), env) < 0) {
        env->PopLocalFrame(NULL);
        return -1;
    }
    
    //......
    return 0;
}
```

